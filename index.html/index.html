<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Secret Gallery üíñ</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: "Poppins", sans-serif;
    background: black;
    overflow: hidden;
    height: 100vh;
  }

  .page {
    position: absolute;
    top: 0; left: 100%;
    width: 100%;
    height: 100%;
    transition: all 0.5s ease;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    background: url('animatedbackground1.png') no-repeat center center/cover;
  }
  .active { left: 0; }

  input {
    padding: 12px;
    font-size: 18px;
    border-radius: 10px;
    border: none;
    outline: none;
    text-align: center;
    width: 160px;
    background: rgba(255,255,255,0.8);
  }

  button {
    padding: 12px 24px;
    font-size: 18px;
    margin-top: 15px;
    border: none;
    border-radius: 10px;
    background: rgba(255,255,255,0.7);
    cursor: pointer;
    transition: all 0.3s ease;
  }

  button:hover { background: rgba(255,255,255,0.9); transform: scale(1.05); }

  .folders {
    display: flex;
    gap: 30px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .folder {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .folder img {
    width: 90px; height: 90px;
    border-radius: 25px;
    box-shadow: 0 0 20px rgba(255,255,255,0.4);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .folder:hover img { transform: scale(1.1); box-shadow: 0 0 40px rgba(255,100,150,0.8); }
  .folder span {
    color: white; font-size: 16px; margin-top: 8px;
    text-shadow: 0 0 10px rgba(255,255,255,0.8);
  }

  .gallery, .poetry-viewer {
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100%;
    justify-content: center;
  }

  .gallery img {
    max-width: 100%;
    max-height: 85vh;
    object-fit: contain;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(255,255,255,0.3);
    user-select: none;
    touch-action: pan-y;
  }

  .poem {
    width: 85%;
    height: 70vh;
    overflow-y: auto;
    background: rgba(255,255,255,0.85);
    border-radius: 25px;
    padding: 25px;
    font-size: 17px;
    color: #222;
    line-height: 1.6;
    box-shadow: 0 0 20px rgba(255,255,255,0.4);
  }

  .nav-arrows {
    display: flex;
    justify-content: space-between;
    width: 90%;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    font-size: 28px;
    color: white;
    user-select: none;
    pointer-events: none;
  }

  .nav-arrows span {
    pointer-events: auto;
    cursor: pointer;
    padding: 8px;
    background: rgba(0,0,0,0.3);
    border-radius: 50%;
    transition: all 0.3s ease;
  }

  .nav-arrows span:hover {
    background: rgba(255,255,255,0.4);
    transform: scale(1.1);
  }

  .back-btn {
    position: absolute;
    top: 20px; left: 20px;
    font-size: 16px;
    padding: 8px 14px;
    border-radius: 10px;
    background: rgba(255,255,255,0.7);
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 10;
  }

  .back-btn:hover { background: rgba(255,255,255,0.9); }

  h1 {
    color: white;
    text-shadow: 0 0 20px rgba(255,255,255,0.9);
    text-align: center;
    padding: 0 15px;
  }

  /* Hearts removed for images & poems */
  .hearts {
    position: absolute; top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none; overflow: hidden;
  }

  .heart {
    position: absolute; color: pink;
    font-size: 20px;
    animation: floatUp 5s linear infinite;
    opacity: 0.8;
  }

  @keyframes floatUp {
    0% { transform: translateY(100vh) scale(1); opacity: 1; }
    100% { transform: translateY(-10vh) scale(1.5); opacity: 0; }
  }

  @media (max-width: 600px) {
    .folder img { width: 75px; height: 75px; }
    .folder span { font-size: 14px; }
    button { font-size: 15px; padding: 10px 18px; }
    .poem { font-size: 15px; height: 60vh; }
    .nav-arrows { font-size: 26px; }
  }
</style>
</head>
<body>

<!-- Unlock Page -->
<div id="unlock" class="page active">
  <div class="hearts" id="heartsUnlock"></div>
  <h1 style="margin-bottom:20px;">Enter PIN to Unlock üíñ</h1>
  <input type="password" id="pin" maxlength="6" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
  <button onclick="checkPIN()">Unlock</button>
</div>

<!-- Folder Page -->
<div id="folders" class="page">
  <div class="hearts" id="heartsFolders"></div>
  <div class="folders">
    <div class="folder" onclick="openImages()">
      <img src="redheartimagelogo.png" alt="Images">
      <span>Images</span>
    </div>
    <div class="folder" onclick="openPoetry()">
      <img src="poertyimage.png" alt="Poetry">
      <span>Poetry</span>
    </div>
  </div>
</div>

<!-- Images Page -->
<div id="imagesPage" class="page">
  <button class="back-btn" onclick="goBack('folders')">‚Üê Back</button>
  <div class="gallery" id="imageGallery">
    <img id="galleryImage" src="" alt="Gallery Image">
    <div class="nav-arrows">
      <span onclick="prevImage()">‚ùÆ</span>
      <span onclick="nextImage()">‚ùØ</span>
    </div>
  </div>
</div>

<!-- Poetry Page -->
<div id="poetryPage" class="page">
  <button class="back-btn" onclick="goBack('folders')">‚Üê Back</button>
  <div class="poetry-viewer">
    <div class="poem" id="poemText">Loading...</div>
    <div class="nav-arrows">
      <span onclick="prevPoem()">‚ùÆ</span>
      <span onclick="nextPoem()">‚ùØ</span>
    </div>
  </div>
</div>

<script>
let currentPage = "unlock";
let currentImageIndex = 0;
let currentPoemIndex = 0;
const images = [];
const poems = [
  "My heart beats with your name,\nIn every breath, in every flame.",
  "You‚Äôre the sunrise of my soul,\nThe warmth that makes me whole.",
  "Every poem I write,\nStarts and ends with you, my light üíñ"
];

// Unlock logic
function checkPIN() {
  const pin = document.getElementById("pin").value.trim();
  if (pin === "212443") switchPage("folders");
  else alert("‚ùå Incorrect PIN!");
}

function switchPage(pageId) {
  document.getElementById(currentPage).classList.remove("active");
  currentPage = pageId;
  document.getElementById(pageId).classList.add("active");
}

function goBack(toPage) {
  switchPage(toPage);
}

// Load images dynamically
function loadImages() {
  const formats = ["jpg", "png", "jpeg"];
  for (let i = 1; i <= 20; i++) {
    for (let ext of formats) {
      const img = new Image();
      img.src = `images/photo${i}.${ext}`;
      img.onload = () => { if (!images.includes(img.src)) images.push(img.src); };
    }
  }
}

// Open image gallery
function openImages() {
  if (images.length === 0) {
    alert("No images found! Please add images inside the 'images' folder.");
    return;
  }
  currentImageIndex = 0;
  document.getElementById("galleryImage").src = images[0];
  switchPage("imagesPage");
}

function nextImage() {
  if (!images.length) return;
  currentImageIndex = (currentImageIndex + 1) % images.length;
  document.getElementById("galleryImage").src = images[currentImageIndex];
}

function prevImage() {
  if (!images.length) return;
  currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
  document.getElementById("galleryImage").src = images[currentImageIndex];
}

// Swipe functionality for images
let startX = 0;
const gallery = document.getElementById("imageGallery");

gallery.addEventListener("touchstart", (e) => { startX = e.touches[0].clientX; });
gallery.addEventListener("touchend", (e) => {
  let endX = e.changedTouches[0].clientX;
  if (startX - endX > 50) nextImage(); // swipe left
  if (endX - startX > 50) prevImage(); // swipe right
});

// Poetry logic
function openPoetry() {
  currentPoemIndex = 0;
  document.getElementById("poemText").innerText = poems[0];
  switchPage("poetryPage");
}

function nextPoem() {
  currentPoemIndex = (currentPoemIndex + 1) % poems.length;
  document.getElementById("poemText").innerText = poems[currentPoemIndex];
}

function prevPoem() {
  currentPoemIndex = (currentPoemIndex - 1 + poems.length) % poems.length;
  document.getElementById("poemText").innerText = poems[currentPoemIndex];
}

// Floating hearts only for unlock & folders
function createHearts(containerId) {
  const container = document.getElementById(containerId);
  setInterval(() => {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.innerText = "üíñ";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.fontSize = Math.random() * 20 + 10 + "px";
    heart.style.animationDuration = 3 + Math.random() * 4 + "s";
    container.appendChild(heart);
    setTimeout(() => heart.remove(), 5000);
  }, 400);
}

window.onload = () => {
  loadImages();
  createHearts("heartsUnlock");
  createHearts("heartsFolders");
};
</script>
</body>
</html>
